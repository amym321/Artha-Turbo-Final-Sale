
  {% if type == 'block' %}
    {% assign id = block.id %}
    {% assign slideshow_animation = block.settings.slideshow_animation %}
    {% assign shopify_attributes = block.settings.shopify_attributes %}
    {% assign shopify_attributes = block.settings.slideshow_text_animation %}
    {% assign slideshow_text_animation = block.settings.slideshow_speed %}
  {% comment %}Extended--------------------------------------------------{% endcomment %}
    {% assign master-class = block.settings.master-class %}
    {% assign background-image = block.settings.background-image %}
    {% assign background-color = block.settings.background-color %}
    {% assign repeat-background = block.settings.repeat-background %}
    {% assign background-size = block.settings.background-size %}
    {% assign gradient_overlay = block.settings.gradient_overlay %}
    {% assign gradient_direction = block.settings.gradient_direction%}
    {% assign gradient_1 = block.settings.gradient_1 %}
    {% assign gradient_2 = block.settings.gradient_2 %}
    {% assign text-color = block.settings.text-color %}
    {% assign heading-color = block.settings.heading-color %}
    {% assign narrow = block.settings.narrow %}
    {% assign index = block.id %}


  {% else %}
    {% assign id = section.id %}
    {% assign slideshow_animation = section.settings.slideshow_animation %}
    {% assign shopify_attributes = section.settings.shopify_attributes %}
    {% assign shopify_attributes = section.settings.slideshow_text_animation %}
    {% assign slideshow_text_animation = section.settings.slideshow_speed %}
  {% comment %}Extended--------------------------------------------------{% endcomment %}
    {% assign master-class = section.settings.master-class %}
    {% assign background-image = section.settings.background-image %}
    {% assign background-color = section.settings.background-color %}
    {% assign repeat-background = section.settings.repeat-background %}
    {% assign background-size = section.settings.background-size %}
    {% assign gradient_overlay = section.settings.gradient_overlay %}
    {% assign gradient_direction = section.settings.gradient_direction%}
    {% assign gradient_1 = section.settings.gradient_1 %}
    {% assign gradient_2 = section.settings.gradient_2 %}
    {% assign text-color = section.settings.text-color %}
    {% assign heading-color = section.settings.heading-color %}
    {% assign narrow = section.settings.narrow %}
    {% assign index = section.id %}

  {% endif %}

{% assign default = '1400x' %}
{% assign size1 = '480x' %}
{% assign size2 = '765x' %}
{% assign size3 = '900x' %}
{% assign size4 = '1000x' %}
{% assign size5 = '1100x' %}
{% assign size6 = '1300x' %}
{% assign size7 = '1500x' %}
{% assign size8 = '1700x' %}
{% assign size9 = '1900x' %}
{% assign size10 = '2000x' %}

{% include "bc__snippet-styles" %}


<div class="{{ block.settings.display-mode }} {{ master-class }} {{ class__background }}">
{% if narrow %}<div class="container content ">{% endif %}  
  <section id="homepage_slider-{{ id }}"
        class="homepage-slideshow js-homepage-slideshow slideshow_animation--{{ slideshow_animation }} {% if block.settings.slideshow_text_animation != '' %}text-animation--true{% endif %}"
        data-slider-id="homepage_slider-{{ id }}"
        data-slideshow-speed="{{ slideshow_speed }}"
        data-slideshow-text-animation="{{ slideshow_text_animation }}"
        >
          {% for i in (1..3) %}
            {% capture imageCount %}image{{ i }}{% endcapture %}
            {% capture mobileImageCount %}mobile-image{{ i }}{% endcapture %}
            {% capture button1Count %}button1_{{ i }}{% endcapture %}
            {% capture button1_linkCount %}button1_link_{{ i }}{% endcapture %}
            {% capture button2Count %}button2_{{ i }}{% endcapture %}
            {% capture button2_linkCount %}button2_link_{{ i }}{% endcapture %}
			{% capture pretextCount %}pretext{{ i }}{% endcapture %}
			{% capture titleCount %}title{{ i }}{% endcapture %}
			{% capture subtitleCount %}subtitle{{ i }}{% endcapture %}
			{% capture text_positionCount %}text_position{{ i }}{% endcapture %}
			{% capture over_imageCount %}over_image{{ i }}{% endcapture %}    
			{% capture caption_backgroundCount %}caption_background{{ i }}{% endcapture %}
   			{% capture caption_background_transparencyCount %}caption_background_transparency{{ i }}{% endcapture %}
    		{% capture text_alignCount %}text_align{{ i }}{% endcapture %}
    		{% capture button1_highlightCount %}button1_highlight_{{ i }}{% endcapture %}
    		{% capture button2_highlightCount %}button2_highlight_{{ i }}{% endcapture %}     
    
            {% if type == 'block' %}
             {% assign image = block.settings[imageCount] %}
             {% assign mobile-image = block.settings[mobileImageCount] %}
             {% assign button1 = block.settings[button1Count] %}
             {% assign button1_link = block.settings[button1_linkCount] %}
             {% assign button2 = block.settings[button2Count] %}
             {% assign button2_link = block.settings[button2_linkCount] %}
             {% assign pretext = block.settings[pretextCount] %}
             {% assign title = block.settings[titleCount] %}
             {% assign subtitle = block.settings[subtitleCount] %}    
             {% assign text_position = block.settings[text_positionCount] %}
             {% assign over_image = block.settings[over_imageCount] %}    
             {% assign caption_background = block.settings[caption_backgroundCount] %}
             {% assign caption_background_transparency = block.settings[caption_background_transparencyCount] %}
             {% assign text_align = block.settings[text_alignCount] %}
             {% assign button1_highlight = block.settings[button1_highlightCount] %}
             {% assign button2_highlight = block.settings[button2_highlightCount] %}     
            {% else %}
             {% assign image = section.settings[imageCount] %}
             {% assign mobile-image = section.settings[mobileImageCount] %}
             {% assign button1 = section.settings[button1Count] %}
             {% assign button1_link = section.settings[button1_linkCount] %}
             {% assign button2 = section.settings[button2Count] %}
             {% assign button2_link = section.settings[button2_linkCount] %}
             {% assign pretext = section.settings[pretextCount] %}
             {% assign title = section.settings[titleCount] %}
             {% assign subtitle = section.settings[subtitleCount] %}
             {% assign text_position = section.settings[text_positionCount] %}
             {% assign over_image = section.settings[over_imageCount] %}    
             {% assign caption_background = section.settings[caption_backgroundCount] %}
             {% assign caption_background_transparency = section.settings[caption_background_transparencyCount] %}
             {% assign text_align = section.settings[text_alignCount] %}
             {% assign button1_highlight = section.settings[button1_highlightCount] %}
             {% assign button2_highlight = section.settings[button2_highlightCount] %}     
            {% endif %}
       {% if image %}
          <div class="gallery-cell slide-1" {{ shopify_attributes }} data-block-id="{{id}}1">
            <img  src="{{ image | img_url: '100x', format: 'pjpg' }}"
                  alt="{{ image.alt | escape }}"
                  class="lazyload {{ image_loading_style }} {% if mobile-image %} mobile-hidden {% endif %}"
                  sizes="100vw"
                  data-src="{{ image | img_url: default, format: 'pjpg' }}"
                  srcset="
                  {{ image | img_url: default, format: 'pjpg' }} {{default | replace: 'x', 'w'}},
                  {{ image | img_url: size1, format: 'pjpg' }} {{size1 | replace: 'x', 'w'}},
                  {{ image | img_url: size2, format: 'pjpg' }} {{size2 | replace: 'x', 'w'}},
                  {{ image | img_url: size3, format: 'pjpg' }} {{size3 | replace: 'x', 'w'}},
                  {{ image | img_url: size4, format: 'pjpg' }} {{size4 | replace: 'x', 'w'}},
                  {{ image | img_url: size5, format: 'pjpg' }} {{size5 | replace: 'x', 'w'}},
                  {{ image | img_url: size6, format: 'pjpg' }} {{size6 | replace: 'x', 'w'}},
                  {{ image | img_url: size7, format: 'pjpg' }} {{size7 | replace: 'x', 'w'}},
                  {{ image | img_url: size8, format: 'pjpg' }} {{size8 | replace: 'x', 'w'}},
                  {{ image | img_url: size9, format: 'pjpg' }} {{size9 | replace: 'x', 'w'}},
                  {{ image | img_url: size10, format: 'pjpg' }} {{size10 | replace: 'x', 'w'}}"
                   />
            
			{% if mobile-image %}
            <img  src="{{ mobile-image | img_url: '100x', format: 'pjpg' }}"
                  alt="{{ mobile-image.alt | escape }}"
                  class="lazyload {{ image_loading_style }} mobile-only"
                  sizes="100vw"
                  data-src="{{ mobile-image | img_url: default, format: 'pjpg' }}"
                  srcset="
                  {{ mobile-image | img_url: default, format: 'pjpg' }} {{default | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size1, format: 'pjpg' }} {{size1 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size2, format: 'pjpg' }} {{size2 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size3, format: 'pjpg' }} {{size3 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size4, format: 'pjpg' }} {{size4 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size5, format: 'pjpg' }} {{size5 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size6, format: 'pjpg' }} {{size6 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size7, format: 'pjpg' }} {{size7 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size8, format: 'pjpg' }} {{size8 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size9, format: 'pjpg' }} {{size9 | replace: 'x', 'w'}},
                  {{ mobile-image | img_url: size10, format: 'pjpg' }} {{size10 | replace: 'x', 'w'}}"
                   />            
            {% endif %}
            {% unless button1_link != blank and button2_link != blank %}
              {% if button1_link != blank %}
                <a href="{{ button1_link }}" class="banner-full-link">
                  {{ button1 }}
                </a>
              {% elsif button2_link  != blank %}
                <a href="{{ button2_link }}" class="banner-full-link">
                  {{ button2 }}
                </a>
              {% endif %}
            {% endunless %}
            {% unless pretext == blank and title == blank and subtitle == blank and text_align == blank and button2 == blank %}
            <div class="caption position-{{ text_position }} js-caption over-image-{{ over_image }}">
                  <div class="caption-content
                              caption-background-{{ caption_background }}
                              caption-transparency-{{ caption_background_transparency }}
                              align-{{ text_align }}">
                    {% if pretext != blank %}
                      <div class="pretext {{ class__text }}">
                        {{ pretext }}
                      </div>
                    {% endif %}
                    {% if title != blank %}
                      <h1 class="headline {{ class__heading }}">
                        {{ title }}
                      </h1>
                    {% endif %}
                    {% if subtitle != blank %}
                      <div class="subtitle {{ class__text }}">
                        {{ subtitle }}
                      </div>
                    {% endif %}
                    {% if button1 != blank %}
                      <a {% if button1_link != blank %}href="{{ button1_link }}"{% endif %} class="action_button first_button highlight-{{ button1_highlight }}">
                        {{ button1  }}
                      </a>
                    {% endif %}
                    {% if button2 != blank %}
                      <a {% if button2_link != blank %}href="{{ button2_link }}"{% endif %} class="action_button second_button highlight-{{ button2_highlight }}">
                        {{ button2  }}
                      </a>
                    {% endif %}
                  </div>
                </div>
              {% if over_image %}
                <div class="position-{{ text_position }} caption js-caption mobile-caption">
                  <div class="caption-content caption-background-{{ caption_background }} caption-transparency-{{ caption_background_transparency }} align-{{ text_align }}">
                    {% if pretext != blank %}
                    <div class="{{ class__text }} pretext">
                      {{ pretext }}
                    </div>
                    {% endif %}
                    {% if title != blank %}
                    <h1 class="{{ class__heading }} headline">
                      {{ title }}
                    </h1>
                    {% endif %}
                    {% if subtitle != blank %}
                    <div class="{{ class__text }} subtitle">
                      {{ subtitle }}
                    </div>
                    {% endif %}
                  </div>
                </div>      
              {% endif %}            
            {% endunless %}
          </div>
       {% endif %}
    {% endfor %}
  </section>
 {% if narrow %}</div>{% endif %}
</div>
