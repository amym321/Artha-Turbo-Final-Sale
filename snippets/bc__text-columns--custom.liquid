
{% if type == 'block' %}
  {% assign id = block.id %}
  {% assign title = block.settings.title %}
  {% assign shopify_attributes = block.settings.shopify_attributes%}
  {% assign size = block.settings.size %}
{% comment %}Extended--------------------------------------------------{% endcomment %}
  {% assign master-class = block.settings.master-class %}
  {% assign background-image = block.settings.background-image %}
  {% assign background-color = block.settings.background-color %}
  {% assign repeat-background = block.settings.repeat-background %}
  {% assign background-size = block.settings.background-size %}
  {% assign gradient_overlay = block.settings.gradient_overlay %}
  {% assign gradient_direction = block.settings.gradient_direction%}
  {% assign gradient_1 = block.settings.gradient_1 %}
  {% assign gradient_2 = block.settings.gradient_2 %}
  {% assign text-color = block.settings.text-color %}
  {% assign heading-color = block.settings.heading-color %}
  {% assign narrow = block.settings.narrow %}
  {% assign index = block.id %}
  {% assign image = block.settings.image %}

{% else %}
  {% assign id = section.id %}
  {% assign title = section.settings.title %}
  {% assign shopify_attributes = section.settings.shopify_attributes%}
  {% assign size = section.settings.size %}

{% comment %}Extended--------------------------------------------------{% endcomment %}
  {% assign master-class = section.settings.master-class %}
  {% assign background-image = section.settings.background-image %}
  {% assign background-color = section.settings.background-color %}
  {% assign repeat-background = section.settings.repeat-background %}
  {% assign background-size = section.settings.background-size %}
  {% assign gradient_overlay = section.settings.gradient_overlay %}
  {% assign gradient_direction = section.settings.gradient_direction%}
  {% assign gradient_1 = section.settings.gradient_1 %}
  {% assign gradient_2 = section.settings.gradient_2 %}
  {% assign text-color = section.settings.text-color %}
  {% assign heading-color = section.settings.heading-color %}
  {% assign narrow = section.settings.narrow %}
  {% assign index = section.id %}
  {% assign image = section.settings.image %}

{% endif %}

{% include "bc__snippet-styles" %}

<div class="{{ block.settings.display-mode }} {{ master-class }} {{ class__background }}">
  <div class="container content">
    {% if title != blank %}
      <div class="sixteen columns">
        {% if image != blank %}
         <img  src="{{ image.src | img_url: '300x' }}"
                        class="textColImg lazyload {{ settings.image_loading_style }} "
                        alt="{{ image.alt }}"
                        data-sizes="auto"
                        data-src="{{ image | img_url }}"
                        data-srcset=" {{ image | img_url: '2048x' }} 2048w,
                                      {{ image | img_url: '1200x' }} 1200w,
                                      {{ image | img_url: '1000x' }} 1000w,
                                      {{ image | img_url: '800x' }} 800w,
                                      {{ image | img_url: '600x' }} 600w,
                                      {{ image | img_url: '400x' }} 400w"
                         /> 
        {% endif %}
        <h2 class="title center {{ class__heading }}">{{ title | escape }}</h2>
        <div class="feature_divider"></div>
      </div>
    {% endif %}

    {% for i in (1..5) %}
     {% capture imageCount %}image{{ i }}{% endcapture %}
     {% capture mobile-imageCount %}mobile-image{{ i }}{% endcapture %}
     {% capture headingCount %}heading{{ i }}{% endcapture %}    
     {% capture border_styleCount %}border_style{{ i }}{% endcapture %} 
     {% capture align_textCount %}align_text{{ i }}{% endcapture %}
     {% capture enable_imageCount %}enable_image{{ i }}{% endcapture %}
     {% capture heading_sizeCount %}heading_size{{ i }}{% endcapture %}
     {% capture textCount %}text{{ i }}{% endcapture %}
     {% capture button_labelCount %}button_label{{ i }}{% endcapture %} 
     {% capture button_linkCount %}button_link{{ i }}{% endcapture %} 
     {% capture enable_imageCount %}enable_image{{ i }}{% endcapture %}   

     {% if type == 'block' %}
      {% assign image = block.settings[imageCount] %}
      {% assign mobile-image = block.settings[mobile-imageCount] %}
      {% assign heading = block.settings[headingCount] %}    
      {% assign border_style  = block.settings[border_styleCount] %}
      {% assign align_text  = block.settings[align_textCount] %} 
      {% assign enable_image  = block.settings[enable_imageCount] %}
      {% assign heading_size   = block.settings[heading_sizeCount] %}
      {% assign text = block.settings[textCount] %}
      {% assign button_label   = block.settings[button_labelCount] %}
      {% assign button_link = block.settings[button_linkCount] %}
      {% assign enable_image = block.settings[enable_imageCount] %}  
     {% else %}
      {% assign image = section.settings[imageCount] %}
      {% assign mobile-image = section.settings[mobile-imageCount] %} 
      {% assign heading = section.settings[headingCount] %}    
      {% assign border_style  = section.settings[border_styleCount] %}
      {% assign align_text  = section.settings[align_textCount] %}
      {% assign enable_image = section.settings[enable_imageCount] %}
      {% assign heading_size = section.settings[heading_sizeCount] %}
      {% assign text = section.settings[textCount] %}
      {% assign button_label   = section.settings[button_labelCount] %}
      {% assign button_link = section.settings[button_linkCount] %}
      {% assign enable_image = section.settings[enable_imageCount] %}  
     {% endif %}    

    {% if size == "1" %}
      {%- assign column_width = 'sixteen columns' -%}
      {% elsif size == "3" %}
        {%- assign column_width = 'one-third column' -%}
      {% elsif size == "4" %}
        {%- assign column_width = 'four columns' -%}
      {% elsif size == "5" %}
        {%- assign column_width = 'one-fifth column' -%}
      {% else %}
        {%- assign column_width = 'eight columns' -%}
      {% endif %}
      <div class="{{ column_width }} text-column" {{ shopify_attributes }}>
        <div class="border-style--{{ border_style }} text-align--{{ align_text }}">
          {% if enable_image %}
            {% if image != blank %}
              <p>
                <img  src="{{ image.src | img_url: '300x' }}"
                      class="lazyload {{ settings.image_loading_style }} {% if mobile-image %}mobile-hidden{% endif %}"
                      alt="{{ image.alt }}"
                      data-sizes="auto"
                      data-src="{{ image | img_url }}"
                      data-srcset=" {{ image | img_url: '2048x' }} 2048w,
                                    {{ image | img_url: '1200x' }} 1200w,
                                    {{ image | img_url: '1000x' }} 1000w,
                                    {{ image | img_url: '800x' }} 800w,
                                    {{ image | img_url: '600x' }} 600w,
                                    {{ image | img_url: '400x' }} 400w"
                       />
                {% if mobile-image %}
                  <img  src="{{ mobile-image.src | img_url: '300x' }}"
                        class="lazyload {{ settings.image_loading_style }} mobile-only"
                        alt="{{ mobile-image.alt }}"
                        data-sizes="auto"
                        data-src="{{ mobile-image | img_url }}"
                        data-srcset=" {{ mobile-image | img_url: '2048x' }} 2048w,
                                      {{ mobile-image | img_url: '1200x' }} 1200w,
                                      {{ mobile-image | img_url: '1000x' }} 1000w,
                                      {{ mobile-image | img_url: '800x' }} 800w,
                                      {{ mobile-image | img_url: '600x' }} 600w,
                                      {{ mobile-image | img_url: '400x' }} 400w"
                         />                
                {% endif %}
               </p>
              <noscript>
                <p>
                  {{ image | img_url: '480x480', scale: 2 | img_tag: image.alt }}
                </p>
              </noscript>
            {% else %}
              <p>
                {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
              </p>
            {% endif %}
          {% endif %}
          {% if heading != blank %}
            <h3 class="headingColumn {{ heading_size }}">{{ heading }}</h3>
          {% endif %}
          {% if text != blank %}
            <div class="rte-setting {{ class__text }}">{{ text }}</div>
          {% endif %}

          {% if button_label != blank and button_link != blank %}
            <a href="{{ button_link }}" class="action_button continue-button">
              {{ button_label | escape }}
            </a>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>